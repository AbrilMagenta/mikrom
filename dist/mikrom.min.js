/*
  Mikrom v1.1.0
  Hugo Wiledal
  
  Enables quick and versatile js-component initialization.
  For situations when you only need control, not bulk.
  
  MIT Licensed
*/
!function(){var e={_version:"1.0.0",_registeredComponents:{},_listeners:{},_getAttributes:function(t){for(var n={},r=0;r<t.attributes.length;r++)n[e._dashToCamelCase(t.attributes[r].nodeName)]=t.attributes[r].nodeValue;return n},_dashToCamelCase:function(e){return e.replace(/-([a-z])/gi,function(e){return e[1].toUpperCase()})},component:function(){var t=arguments[0],n="function"==typeof arguments[1]?arguments[1]:arguments[2];e._registeredComponents[t]={fn:n}},init:function(t){var t=t||document;for(var n in e._registeredComponents)for(var r=t.querySelectorAll(n),i=e._registeredComponents[n],o=0;o<r.length;o++){var a=r[o],s=e._getAttributes(a);a.__mikromData||(a.__mikromData={destroyed:!1,initializedComponents:{}}),a.__mikromData.initializedComponents[n]||(a.__mikromData.initializedComponents[n]=!0,i.fn.call(a,a,s))}e.trigger("init",t)},destroy:function(t){var t=t||document;for(var n in e._registeredComponents)for(var r=t.querySelectorAll(n),i=0;i<r.length;i++){var o=r[i];if(!o.__mikromData.destroyed){var a=document.createEvent("Event");a.initEvent("mikrom:destroy",!0,!0),o.dispatchEvent(a),o.__mikromData.initializedComponents={}}}},addEventListener:function(t,n){e._listeners[t]||(e._listeners[t]=[]),e._listeners[t].push(n)},trigger:function(t,n){var r=e._listeners[t];if(r)for(var i=0;i<r.length;i++)r[i](n)}};window.mikrom=e}();