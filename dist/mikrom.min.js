/*
  Mikrom
  Hugo Wiledal
  
  Enables quick and versatile js-component initialization.
  For situations when you only need control, not bulk.
  
  MIT Licensed
*/
!function(){var e={_version:"2.0.0",_registeredComponents:{},_listeners:{},_getAttributes:function(t){for(var n={},r=0;r<t.attributes.length;r++)n[e._dashToCamelCase(t.attributes[r].nodeName)]=t.attributes[r].nodeValue;return n},_dashToCamelCase:function(e){return e.replace(/-([a-z])/gi,function(e){return e[1].toUpperCase()})},component:function(){var t=arguments[0],n="string"==typeof arguments[1]||"object"==typeof arguments[1]?arguments[1]:[],r="function"==typeof arguments[1]?arguments[1]:arguments[2],n="string"==typeof n?[n]:n;e._registeredComponents[t]={fn:r,"extends":n}},init:function(t){var t=t||document;for(var n in e._registeredComponents)for(var r=t.querySelectorAll(n),o=0;o<r.length;o++){var i=r[o],a=e._getAttributes(i);i.__mikromData||(i.__mikromData={destroyed:!1,initializedComponents:{}}),e.apply(n,i,a)}e.trigger("init",t)},apply:function(t,n,r){for(var o=e._registeredComponents[t],i=0;i<o["extends"].length;i++)e.apply(o["extends"][i],n,r);o.fn.call(window,n,r)},destroy:function(t){var t=t||document;for(var n in e._registeredComponents)for(var r=t.querySelectorAll(n),o=0;o<r.length;o++){var i=r[o];if(!i.__mikromData.destroyed){var a=document.createEvent("Event");a.initEvent("mikrom.destroy",!0,!0),i.dispatchEvent(a),i.__mikromData.initializedComponents={}}}},on:function(t,n){e._listeners[t]||(e._listeners[t]=[]),e._listeners[t].push(n)},trigger:function(t,n){var r=e._listeners[t];if(r)for(var o=0;o<r.length;o++)r[o](n)}};window.mikrom=e}();