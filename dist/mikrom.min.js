/*
  Mikrom
  Hugo Wiledal
  
  Enables quick and versatile js-component initialization.
  For situations when you only need control, not bulk.
  
  MIT Licensed
*/
!function(){var e={_version:"2.0.1",_registeredComponents:{},_listeners:{},_getAttributes:function(t){for(var n={},r=0;r<t.attributes.length;r++)n[e._dashToCamelCase(t.attributes[r].nodeName)]=t.attributes[r].nodeValue;return n},_dashToCamelCase:function(e){return e.replace(/-([a-z])/gi,function(e){return e[1].toUpperCase()})},component:function(){var t=arguments[0],n="string"==typeof arguments[1]||"object"==typeof arguments[1]?arguments[1]:[],r="function"==typeof arguments[1]?arguments[1]:arguments[2],n="string"==typeof n?[n]:n;e._registeredComponents[t]={fn:r,"extends":n}},init:function(t){var t=t||document;for(var n in e._registeredComponents)for(var r=t.querySelectorAll(n),i=0;i<r.length;i++){var o=r[i],a=e._getAttributes(o);o.__mikromData||(o.__mikromData={destroyed:!1,initializedComponents:{}}),e.apply(n,o,a)}e.trigger("init",t)},apply:function(t,n,r){if(!n.__mikromData.initializedComponents[t]){for(var i=e._registeredComponents[t],o=0;o<i["extends"].length;o++)e.apply(i["extends"][o],n,r);n.__mikromData.initializedComponents[t]=!0,i.fn.call(window,n,r)}},destroy:function(t){var t=t||document;for(var n in e._registeredComponents)for(var r=t.querySelectorAll(n),i=0;i<r.length;i++){var o=r[i];if(!o.__mikromData.destroyed){var a=document.createEvent("Event");a.initEvent("mikrom.destroy",!0,!0),o.dispatchEvent(a),o.__mikromData.initializedComponents={}}}},on:function(t,n){e._listeners[t]||(e._listeners[t]=[]),e._listeners[t].push(n)},trigger:function(t,n){var r=e._listeners[t];if(r)for(var i=0;i<r.length;i++)r[i](n)}};window.mikrom=e}();